<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Eventos - Autenticado</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>🔐</text></svg>">
</head>
<body>
    <div class="container">
        <header>
            <h1>Cadastro de Eventos</h1>
            <div id="authSection" class="auth-section">
                <span id="loggedInUser" class="hidden">Olá, <strong id="userEmailDisplay"></strong>!</span>
                <button id="logoutBtn" class="hidden">Sair</button>
            </div>
        </header>

        <div id="feedbackMessage" class="feedback-message"></div>

        <!-- Seção de Login/Registro -->
        <section id="authScreen">
            <h2>Acessar Sistema</h2>
            <form id="authForm">
                <label for="authEmail">E-mail:</label>
                <input type="email" id="authEmail" required>

                <label for="authPassword">Senha:</label>
                <input type="password" id="authPassword" required>
               
                <button type="submit" id="loginBtn">Entrar</button>
                
                <button type="button" id="registerBtn" class="secondary-btn">Registrar (Admin)</button>
                <p class="small-text">test by MR.</p>
            </form>
        </section>

        <!-- Seção Principal do Aplicativo (visível após login) -->
        <section id="appContent" class="hidden">
            <!-- Formulário de Cadastro de Eventos (visível apenas para Master) -->
            <div id="eventFormContainer" class="hidden">
                <h2>Novo Evento</h2>
                <form id="eventForm">
                    <label for="eventDate">Data:</label>
                    <input type="date" id="eventDate" required>

                    <label for="eventDescription">Descrição:</label>
                    <textarea id="eventDescription" rows="4" placeholder="Descreva o evento..." required></textarea>

                    <button type="submit" id="saveEventBtn">
                        <span id="buttonText">Salvar Evento</span>
                        <span id="loadingSpinner" class="spinner hidden"></span>
                    </button>
                </form>
            </div>

            <!-- Lista de Eventos -->
            <section id="eventsListSection">
                <h2>Eventos Cadastrados</h2>
                <div id="loadingEvents" class="loading-state">Carregando eventos...</div>
                <div id="eventsList">
                    <!-- Os eventos serão carregados aqui pelo JavaScript -->
                </div>
                <p id="noEventsMessage" class="no-events-message hidden">Nenhum evento cadastrado ainda.</p>
            </section>
        </section>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script> <!-- Adicionado para autenticação -->
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
    <script src="script.js"></script>
</body>
</html>
